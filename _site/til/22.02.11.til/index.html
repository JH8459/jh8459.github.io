<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.24.0 by Michael Rose
  Copyright 2013-2020 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="ko" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Sequelize Migration | JHLog</title>
<meta name="description" content="[TIL] Sequelize Migration">


  <meta name="author" content="JH ğŸ¤”">
  
  <meta property="article:author" content="JH ğŸ¤”">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="ko_KR">
<meta property="og:site_name" content="JHLog">
<meta property="og:title" content="Sequelize Migration">
<meta property="og:url" content="http://localhost:4000/til/22.02.11.til/">


  <meta property="og:description" content="[TIL] Sequelize Migration">







  <meta property="article:published_time" content="2022-02-11T00:00:00+09:00">





  

  


<link rel="canonical" href="http://localhost:4000/til/22.02.11.til/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "JH ğŸ¤”",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="JHLog Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          JHLog
          <span class="site-subtitle">programming log</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/category/"><b>ì¹´í…Œê³ ë¦¬</b></a>
            </li><li class="masthead__menu-item">
              <a href="/year/"><b>í¬ìŠ¤íŠ¸</b></a>
            </li><li class="masthead__menu-item">
              <a href="/project/"><b>í”„ë¡œì íŠ¸</b></a>
            </li><li class="masthead__menu-item">
              <a href="/about/"><b>ABOUT</b></a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">í† ê¸€ ë©”ë‰´</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/" itemprop="item"><span itemprop="name">Home</span></a>

          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/category/#til" itemprop="item"><span itemprop="name">Til</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Sequelize Migration</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="http://localhost:4000/">
        <img src="https://user-images.githubusercontent.com/83164003/140744770-3c2e280c-5aff-4e0c-b79c-da27d585767f.png" alt="JH ğŸ¤”" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">JH ğŸ¤”</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p><strong>Hello World !</strong><br /><br /></p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">íŒ”ë¡œìš°</button>
    <ul class="author__urls social-icons">
      

      
        
          
            <li><a href="https://github.com/JH8459" rel="nofollow noopener noreferrer me"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://instagram.com/kj.hyeon_" rel="nofollow noopener noreferrer me"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i><span class="label">Instagram</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>
  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">í† ê¸€ ë©”ë‰´</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Study Log ğŸ“–</span>
        

        
        <ul>
          
            <li><a href="/category/#algorithm">Algorithm</a></li>
          
            <li><a href="/category/#project">Project</a></li>
          
            <li><a href="/category/#retrospect">Retrospect</a></li>
          
            <li><a href="/category/#til">TIL</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <span class="nav__sub-title">ETC âš™ï¸</span>
        

        
        <ul>
          
            <li><a href="/category/#blog">Blog</a></li>
          
        </ul>
        
      </li>
    
      <li>
        
          <a href="/about/"><span class="nav__sub-title">ABOUT</span></a>
        

        
      </li>
    
  </ul>
</nav>

    
  
  </div>



  <article class="page h-entry" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Sequelize Migration">
    <meta itemprop="description" content="[TIL] Sequelize Migration">
    <meta itemprop="datePublished" content="2022-02-11T00:00:00+09:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title p-name" itemprop="headline">
            <a href="http://localhost:4000/til/22.02.11.til/" class="u-url" itemprop="url">Sequelize Migration
</a>
          </h1>
          

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-02-11T00:00:00+09:00">February 11, 2022</time>
      </span>
    

    

    
  </p>


        </header>
      

      <section class="page__content e-content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> ëª©ì°¨</h4></header>
              <ul class="toc__menu"><li><a href="#today-i-learnd">Today I Learnd</a><ul><li><a href="#1-migration">1. Migration</a><ul><li><a href="#1-1-migration-ìƒì„±">1-1. Migration ìƒì„±</a></li><li><a href="#1-2-í…Œì´ë¸”ì„-ìƒˆë¡œ-ìƒì„±í•˜ê±°ë‚˜-ê¸°ì¡´-í…Œì´ë¸”ì„-ì§€ì›Œì•¼-í• -ë•Œ">1-2. í…Œì´ë¸”ì„ ìƒˆë¡œ ìƒì„±í•˜ê±°ë‚˜ ê¸°ì¡´ í…Œì´ë¸”ì„ ì§€ì›Œì•¼ í•  ë•Œ</a></li><li><a href="#1-3-í…Œì´ë¸”ì—-ìƒˆë¡œìš´-ì»¬ëŸ¼ì„-ì¶”ê°€í•˜ê±°ë‚˜-ê¸°ì¡´ì˜-ì»¬ëŸ¼ì„-ì‚­ì œí• -ë•Œ">1-3. í…Œì´ë¸”ì— ìƒˆë¡œìš´ ì»¬ëŸ¼ì„ ì¶”ê°€í•˜ê±°ë‚˜ ê¸°ì¡´ì˜ ì»¬ëŸ¼ì„ ì‚­ì œí•  ë•Œ</a></li><li><a href="#1-4-ê¸°ì¡´-ì»¬ëŸ¼ì˜-ì´ë¦„-ë³€ê²½í• -ë•Œ">1-4. ê¸°ì¡´ ì»¬ëŸ¼ì˜ ì´ë¦„ ë³€ê²½í•  ë•Œ</a></li><li><a href="#1-5-ê¸°ì¡´-ì»¬ëŸ¼ì˜-ë°ì´í„°-ì†ì„±-ë°-ì˜µì…˜ê°’-ë³€ê²½">1-5. ê¸°ì¡´ ì»¬ëŸ¼ì˜ ë°ì´í„° ì†ì„± ë° ì˜µì…˜ê°’ ë³€ê²½</a></li><li><a href="#1-6-migration-ì‹¤í–‰ê³¼-ë¡¤ë°±">1-6. Migration ì‹¤í–‰ê³¼ ë¡¤ë°±</a></li></ul></li></ul></li><li><a href="#ì˜¤ëŠ˜-ëŠë‚€-ì ">ì˜¤ëŠ˜ ëŠë‚€ ì </a></li></ul>

            </nav>
          </aside>
        
        <p><img src="https://user-images.githubusercontent.com/83164003/152718557-af87a691-a231-4f0f-a603-a478fe17e795.jpeg" alt="TIL" /></p>
<h2 id="today-i-learnd">Today I Learnd</h2>

<p>Sequelize ORMì„ ì‚¬ìš©í•˜ë©° ê°€ì¥ í¸ë¦¬í•œ ì ì„ ê¼½ëŠ”ë‹¤ë©´ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì„ íƒí•  ê²ƒ ê°™ë‹¤.</p>

<p>ìš´ì˜ì¤‘ì¸ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ì—†ì´ DB ìŠ¤í‚¤ë§ˆ ëª¨ë¸ì„ ë³€ê²½í•œë‹¤ë˜ê°€ ì„œë¹„ìŠ¤ ê¸°íš ë° ì„¤ê³„ë‹¨ê³„ì—ì„œ ë†“ì¹œ ì ì„ ë‚˜ì¤‘ì— ì¶”ê°€í•  ë•Œ DBë¥¼ ê°ˆì•„ì—ì§€ ì•Šê³  ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ë§ˆì´ê·¸ë ˆì´ì…˜ì€ ì¨ë³¸ ì‚¬ëŒë§Œ ì•Œ ê²ƒì´ë‹¤.</p>

<p>ë‹¤ë§Œ ìŠ¤í‚¤ë§ˆ ìˆ˜ì •ì´ í•„ìš”í•œ ê²½ìš°ê°€ ë§ì´ ë°œìƒí•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ì‚¬ìš©ë¹ˆë„ê°€ ë§ì§€ê°€ ì•Šì•˜ë‹¤.<br />
ìµìˆ™ì¹˜ ì•Šì€ ë¬¸ë²•ì´ê¸° ë•Œë¬¸ì— ë§¤ë²ˆ ì‚¬ìš©í•  ë•Œ ë§ˆë‹¤ ê²€ìƒ‰ì„ í†µí•˜ì—¬ ì‚¬ìš©í•˜ì˜€ëŠ”ë°, ì´ì°¸ì— ë¸”ë¡œê·¸ì— í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•´ì„œ ë‚´ê°€ ë³´ë ¤ê³  ë‚¨ê²¨ë³¸ë‹¤.</p>

<h3 id="1-migration">1. Migration</h3>
<hr />

<p><code class="language-plaintext highlighter-rouge">Sequelize</code> ê³µì‹ë¬¸ì„œì—ì„œëŠ” ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ë‹¤ìŒê³¼ ê°™ì´ ì„¤ëª…í•˜ê³  ìˆë‹¤.</p>

<blockquote>
  <p>Just like you use <strong>version control</strong> systems such as <strong>Git</strong> to manage changes in your source code, you can use <strong>migrations</strong> to keep track of changes to the database. With migrations you can transfer your existing database into another state and vice versa: Those state transitions are saved in migration files, which describe how to get to the new state and how to revert the changes in order to get back to the old state.</p>
</blockquote>

<p>ê°„ë‹¨íˆ ì„¤ëª…í•˜ìë©´ <strong>ë§ˆì´ê·¸ë ˆì´ì…˜</strong>ì€ Gitê³¼ ê°™ì€ ë²„ì „ ì»¨íŠ¸ë¡¤ ì‹œìŠ¤í…œìœ¼ë¡œì¨, ì´ë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì— ì ìš©í•˜ë©° ì§€ì›í•´ì¤€ë‹¤.</p>

<p>ì¦‰, ë§ˆì´ê·¸ë ˆì´ì…˜ì€ ë°ì´í„°ë² ì´ìŠ¤ì˜ ìˆ˜ì •ë° ë¡¤ë°±ì„ ë²„ì „ ì»¨íŠ¸ë¡¤ ì‹œìŠ¤í…œ ì²˜ëŸ¼ ì´ìš©í•  ìˆ˜ ìˆê²Œë” ì§€ì›í•˜ëŠ” ê°•ë ¥í•œ ê¸°ëŠ¥ì´ë‹¤.</p>

<p>ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì´ìš©í•˜ê¸°ì „ Sequelize CLIê°€ í•„ìš”í•˜ë‹¤. CLIëŠ” ë§ˆì´ê·¸ë ˆì´ì…˜ê³¼ í”„ë¡œì íŠ¸ ë¶€íŠ¸ìŠ¤íŠ¸ë© ì§€ì›ì„ ì œê³µí•˜ë©° ì´ë¥¼ ì„¤ì¹˜í•œ í™˜ê²½ì´ë¼ëŠ” ê°€ì •í•˜ì— ê¸€ì„ ë‚¨ê¸´ë‹¤.</p>

<h4 id="1-1-migration-ìƒì„±">1-1. Migration ìƒì„±</h4>
<hr />

<p>ë§ˆì´ê·¸ë ˆì´ì…˜ì€ í•„ìš”í•  ë•Œë§ˆë‹¤ ìƒì„±í•  ìˆ˜ ìˆë‹¤. <br />
ìŠ¤í‚¤ë§ˆì— ë³€ê²½ì´ í•„ìš”í•  ë•Œ(ì»¬ëŸ¼ì„ ì¶”ê°€í•˜ê±°ë‚˜, ê¸°ì¡´ ì»¬ëŸ¼ì˜ ë°ì´í„° ì†ì„±ê°’ì„ ë³€ê²½í•  ë•Œ)ë§ˆë‹¤ <code class="language-plaintext highlighter-rouge">migration.js</code> íŒŒì¼ì„ ìƒì„±í•˜ì—¬ ì§„í–‰í•˜ëŠ” ê²ƒì´ë‹¤.</p>

<p>ìš°ì„  ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ìƒì„±í•˜ëŠ” ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">#</span> <span class="nx">using</span> <span class="nx">npm</span>
<span class="nx">npx</span> <span class="nx">sequelize</span><span class="o">-</span><span class="nx">cli</span> <span class="nx">migration</span><span class="p">:</span><span class="nx">generate</span> <span class="o">--</span><span class="nx">name</span> <span class="nx">ìƒì„±í• </span> <span class="nx">migration</span> <span class="nx">ì´ë¦„</span>
<span class="err">#</span> <span class="nx">using</span> <span class="nx">yarn</span>
<span class="nx">yarn</span> <span class="nx">sequelize</span><span class="o">-</span><span class="nx">cli</span> <span class="nx">migration</span><span class="p">:</span><span class="nx">generate</span> <span class="o">--</span><span class="nx">name</span> <span class="nx">ìƒì„±í• </span> <span class="nx">migration</span> <span class="nx">ì´ë¦„</span>
</code></pre></div></div>

<p>ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ì„ ë³´ê³  ì–´ë–¤ ê¸°ëŠ¥ì„ í•˜ëŠ” ì½”ë“œì¸ì§€ ìœ ì¶”í•  ìˆ˜ ìˆì„ë§Œí•œ ì´ë¦„ë§Œ ì…ë ¥í•´ì£¼ë©´ ìƒì„±ì´ ëœë‹¤.</p>

<p>ëª…ë ¹ì–´ë¥¼ ì…ë ¥ì‹œ ì•„ë˜ì™€ ê°™ì€ í…œí”Œë¦¿ ì½”ë“œê°€ ì œê³µì´ ëœë‹¤.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">'</span><span class="s1">use strict</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">up</span><span class="p">:</span> <span class="k">async</span> <span class="p">(</span><span class="nx">queryInterface</span><span class="p">,</span> <span class="nx">Sequelize</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="cm">/**
     * Add altering commands here.
     *
     * Example:
     * await queryInterface.createTable('users', { id: Sequelize.INTEGER });
     */</span>
  <span class="p">},</span>

  <span class="na">down</span><span class="p">:</span> <span class="k">async</span> <span class="p">(</span><span class="nx">queryInterface</span><span class="p">,</span> <span class="nx">Sequelize</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="cm">/**
     * Add reverting commands here.
     *
     * Example:
     * await queryInterface.dropTable('users');
     */</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">up</code>ì€ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ë‹´ë‹¹í•˜ê³  ìˆìœ¼ë©°, <code class="language-plaintext highlighter-rouge">down</code>ì€ <code class="language-plaintext highlighter-rouge">undo</code> ê¸°ëŠ¥(ë¡¤ë°±)ì„ ë‹´ë‹¹í•˜ê³  ìˆë‹¤.</p>

<p>ë‹¤ìŒì€ ê¸°ëŠ¥ë³„ë¡œ í•¨ìˆ˜ë“¤ì„ ë¬¶ì–´ ì •ë¦¬í•˜ì˜€ë‹¤.</p>

<h4 id="1-2-í…Œì´ë¸”ì„-ìƒˆë¡œ-ìƒì„±í•˜ê±°ë‚˜-ê¸°ì¡´-í…Œì´ë¸”ì„-ì§€ì›Œì•¼-í• -ë•Œ">1-2. í…Œì´ë¸”ì„ ìƒˆë¡œ ìƒì„±í•˜ê±°ë‚˜ ê¸°ì¡´ í…Œì´ë¸”ì„ ì§€ì›Œì•¼ í•  ë•Œ</h4>
<hr />

<p>ìš°ì„  í…Œì´ë¸”ì„ ìƒì„±í•  ë•ŒëŠ” ì•„ë˜ì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">createTable()</code></p>

    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// await queryInterface.createTable('í…Œì´ë¸”ëª…', ì»¬ëŸ¼ëª…: {ë°ì´í„° ì†ì„±, ì˜µì…˜}...);</span>
	
<span class="k">await</span> <span class="nx">queryInterface</span><span class="p">.</span><span class="nx">createTable</span><span class="p">(</span><span class="dl">'</span><span class="s1">Users</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">id</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">Sequelize</span><span class="p">.</span><span class="nx">INTEGER</span>
    <span class="na">autoIncrement</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">allowNull</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">primaryKey</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="p">},</span>
  <span class="na">username</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">Sequelize</span><span class="p">.</span><span class="nx">STRING</span><span class="p">,</span>
    <span class="na">allowNull</span><span class="p">:</span> <span class="kc">false</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>ê·¸ë¦¬ê³  í…Œì´ë¸”ì„ ì‚­ì œí•  ë•ŒëŠ” ì•„ë˜ì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">dropTable()</code></p>

    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// await queryInterface.createTable('í…Œì´ë¸”ëª…');</span>
	
<span class="k">await</span> <span class="nx">queryInterface</span><span class="p">.</span><span class="nx">dropTable</span><span class="p">(</span><span class="dl">'</span><span class="s1">Users</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="1-3-í…Œì´ë¸”ì—-ìƒˆë¡œìš´-ì»¬ëŸ¼ì„-ì¶”ê°€í•˜ê±°ë‚˜-ê¸°ì¡´ì˜-ì»¬ëŸ¼ì„-ì‚­ì œí• -ë•Œ">1-3. í…Œì´ë¸”ì— ìƒˆë¡œìš´ ì»¬ëŸ¼ì„ ì¶”ê°€í•˜ê±°ë‚˜ ê¸°ì¡´ì˜ ì»¬ëŸ¼ì„ ì‚­ì œí•  ë•Œ</h4>
<hr />

<p>ìš°ì„  í…Œì´ë¸”ì— ìƒˆë¡œìš´ ì»¬ëŸ¼ì„ ì¶”ê°€í•  ë•ŒëŠ” ì•„ë˜ì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">addColumn()</code></p>

    <p><code class="language-plaintext highlighter-rouge">Users</code> í…Œì´ë¸”ì— <code class="language-plaintext highlighter-rouge">role</code> ì»¬ëŸ¼ ì¶”ê°€ (ë°ì´í„° ì†ì„±ì€ <code class="language-plaintext highlighter-rouge">Integer</code>, <code class="language-plaintext highlighter-rouge">null</code>ì„ í—ˆìš©í•˜ì§€ ì•Šìœ¼ë©° ê¸°ë³¸ê°’ì€ <code class="language-plaintext highlighter-rouge">1</code>)</p>

    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// await queryInterface.addColumn('í…Œì´ë¸”ëª…', 'ì»¬ëŸ¼ëª…', {ë°ì´í„° ì†ì„±,ì˜µì…˜...});</span>
	
<span class="k">await</span> <span class="nx">queryInterface</span><span class="p">.</span><span class="nx">addColumn</span><span class="p">(</span><span class="dl">'</span><span class="s1">Users</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">role</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">Sequelize</span><span class="p">.</span><span class="nx">INTEGER</span><span class="p">,</span>
    <span class="na">allowNull</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
    <span class="na">defaltValues</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">});</span>
</code></pre></div>    </div>
  </li>
</ul>

<p>ê·¸ë¦¬ê³  ê¸°ì¡´ì˜ ì»¬ëŸ¼ì„ ì‚­ì œí•  ë•ŒëŠ” ì•„ë˜ì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">removeColumn()</code></p>

    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// await queryInterface.removeColumn('í…Œì´ë¸”ëª…', 'ì»¬ëŸ¼ëª…');</span>
	
<span class="k">await</span> <span class="nx">queryInterface</span><span class="p">.</span><span class="nx">removeColumn</span><span class="p">(</span><span class="dl">'</span><span class="s1">Users</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">role</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="1-4-ê¸°ì¡´-ì»¬ëŸ¼ì˜-ì´ë¦„-ë³€ê²½í• -ë•Œ">1-4. ê¸°ì¡´ ì»¬ëŸ¼ì˜ ì´ë¦„ ë³€ê²½í•  ë•Œ</h4>
<hr />

<p>í…Œì´ë¸”ì— ìˆëŠ” ê¸°ì¡´ ì»¬ëŸ¼ì˜ ì´ë¦„ì„ ë³€ê²½í•  ë• ì•„ë˜ì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">renameColumn()</code></p>

    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// await queryInterface.renameColumn('í…Œì´ë¸”ëª…', 'ì»¬ëŸ¼ëª…', 'ë³€ê²½í•  ì»¬ëŸ¼ëª…');</span>
	
<span class="k">await</span> <span class="nx">queryInterface</span><span class="p">.</span><span class="nx">renameColumn</span><span class="p">(</span><span class="dl">'</span><span class="s1">Users</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">role</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">userRole</span><span class="dl">'</span><span class="p">);</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="1-5-ê¸°ì¡´-ì»¬ëŸ¼ì˜-ë°ì´í„°-ì†ì„±-ë°-ì˜µì…˜ê°’-ë³€ê²½">1-5. ê¸°ì¡´ ì»¬ëŸ¼ì˜ ë°ì´í„° ì†ì„± ë° ì˜µì…˜ê°’ ë³€ê²½</h4>
<hr />

<p>í…Œì´ë¸”ì— ìˆëŠ” ê¸°ì¡´ ì»¬ëŸ¼ì˜ ì´ë¦„ì„ ë³€ê²½í•  ë• ì•„ë˜ì˜ í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•œë‹¤.</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">changeColumn()</code></p>

    <p><code class="language-plaintext highlighter-rouge">Users</code> í…Œì´ë¸”ì— <code class="language-plaintext highlighter-rouge">userRole</code> ì»¬ëŸ¼ ì†ì„± ë³€ê²½ (ë°ì´í„° ì†ì„±ì€ <code class="language-plaintext highlighter-rouge">STRING</code>, ê¸°ë³¸ê°’ì€ <code class="language-plaintext highlighter-rouge">normal</code>)</p>

    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// await queryInterface.changeColumn('í…Œì´ë¸”ëª…', 'ì»¬ëŸ¼ëª…', {ë°ì´í„° ì†ì„±, ì˜µì…˜});</span>
	
<span class="k">await</span> <span class="nx">queryInterface</span><span class="p">.</span><span class="nx">changeColumn</span><span class="p">(</span><span class="dl">'</span><span class="s1">Users</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">userRole</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">type</span><span class="p">:</span> <span class="nx">Sequelize</span><span class="p">.</span><span class="nx">STRING</span><span class="p">,</span>
    <span class="na">defaltValues</span><span class="p">:</span> <span class="dl">'</span><span class="s1">normal</span><span class="dl">'</span>
<span class="p">});</span>
</code></pre></div>    </div>
  </li>
</ul>

<h4 id="1-6-migration-ì‹¤í–‰ê³¼-ë¡¤ë°±">1-6. Migration ì‹¤í–‰ê³¼ ë¡¤ë°±</h4>
<hr />

<p>ê°ê° í•„ìš”í•œ ê¸°ëŠ¥ì„ <code class="language-plaintext highlighter-rouge">up()</code>ê³¼ <code class="language-plaintext highlighter-rouge">down()</code> ê¸°ëŠ¥ì— ì ì ˆíˆ ë„£ì–´ë‘ë©´ ëª…ë ¹ì–´ë¥¼ í†µí•´ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">#</span> <span class="nx">using</span> <span class="nx">npm</span>
<span class="nx">npx</span> <span class="nx">sequelize</span><span class="o">-</span><span class="nx">cli</span> <span class="nx">db</span><span class="p">:</span><span class="nx">migrate</span>
<span class="err">#</span> <span class="nx">using</span> <span class="nx">yarn</span>
<span class="nx">yarn</span> <span class="nx">sequelize</span><span class="o">-</span><span class="nx">cli</span> <span class="nx">db</span><span class="p">:</span><span class="nx">migrate</span>
</code></pre></div></div>

<p>ìœ„ ëª…ë ¹ì–´ë¥¼ í†µí•´ ë§ˆì´ê·¸ë ˆì´ì…˜ì„ ì‹¤í–‰ í•  ìˆ˜ ìˆìœ¼ë©° ë¡¤ë°± ë˜í•œ ì•„ë˜ì˜ ì½”ë“œë¥¼ ì´ìš©í•˜ì—¬ ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë‹¤.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">#</span> <span class="nx">using</span> <span class="nx">npm</span>
<span class="nx">npx</span> <span class="nx">sequelize</span><span class="o">-</span><span class="nx">cli</span> <span class="nx">db</span><span class="p">:</span><span class="nx">migrate</span><span class="p">:</span><span class="nx">undo</span>
<span class="err">#</span> <span class="nx">using</span> <span class="nx">yarn</span>
<span class="nx">yarn</span> <span class="nx">sequelize</span><span class="o">-</span><span class="nx">cli</span> <span class="nx">db</span><span class="p">:</span><span class="nx">migrate</span><span class="p">:</span><span class="nx">undo</span>
</code></pre></div></div>
<p><br />
<br /></p>
<h2 id="ì˜¤ëŠ˜-ëŠë‚€-ì ">ì˜¤ëŠ˜ ëŠë‚€ ì </h2>
<p>ì„œë¹„ìŠ¤ë¥¼ ë©ˆì¶”ê±°ë‚˜ DBë¥¼ ëª¨ë‘ ì‚­ì œ í›„ ìŠ¤í‚¤ë§ˆë¥¼ ìˆ˜ì •ì„ í•´ì•¼í•˜ëŠ” ë²ˆê±°ë¡œì›€ ì—†ì´ <code class="language-plaintext highlighter-rouge">Sequelize</code> Migrationì€ DB ìŠ¤í‚¤ë§ˆ ìˆ˜ì •ì„ ê°„í¸í•˜ê²Œ ë„ì™€ì¤€ë‹¤.</p>

<p>í˜¹ì‹œ ì˜ˆìƒì¹˜ ëª»í•œ ìŠ¤í‚¤ë§ˆ ìˆ˜ì •ê²°ê³¼ê°€ ì¼ì–´ë‚˜ë„ Gitê³¼ ê°™ì´ <strong>ë²„ì „ ê´€ë¦¬</strong> ê¸°ëŠ¥ì´ ìˆê¸° ë•Œë¬¸ì— ë¡¤ë°±ë˜í•œ ì‰½ê²Œ ê°€ëŠ¥í•˜ë‹¤.<br />
ìœ„ ëª…ë ¹ì–´ë“¤ì€ ì†”ì§íˆ ìì£¼ ì“°ì§€ ëª»í–ˆê¸° ë•Œë¬¸ì— ë§¤ë²ˆ ì“¸ ë•Œë§ˆë‹¤ ê²€ìƒ‰ì— ê²€ìƒ‰ì„ ê±°ë“­í•´ì„œ ì‚¬ìš©í•˜ê³¤ í–ˆì—ˆë‹¤.</p>

<p>ê¸€ë¡œ ì •ë¦¬í•˜ë©° ì¡°ê¸ˆ ë¨¸ë¦¿ì†ì—ì„œ ì •ë¦¬ëœ ê¸°ë¶„ì´ë‹¤.</p>

<p><br />
<br /></p>

        
      </section>

      <footer class="page__meta">
        
        


  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> ì¹´í…Œê³ ë¦¬: </strong>
    <span itemprop="keywords">
    
      <a href="/category/#til" class="page__taxonomy-item p-category" rel="tag">TIL</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> ì—…ë°ì´íŠ¸:</strong> <time class="dt-published" datetime="2022-02-11T00:00:00+09:00">February 11, 2022</time></p>

      </footer>

      

      
  <nav class="pagination">
    
      <a href="/project/22.02.11.refactoring/" class="pagination--pager" title="ALL-CON Refactoring 5ì¼ì°¨ - Articles í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ìˆ˜ì •(1)
">ì´ì „</a>
    
    
      <a href="/project/22.02.14.Project/" class="pagination--pager" title="ALL-CON Refactoring 6ì¼ì°¨ - Articles í…Œì´ë¸” ìŠ¤í‚¤ë§ˆ ìˆ˜ì •(2)
">ë‹¤ìŒ</a>
    
  </nav>

    </div>

    
  </article>

  
  
    <div class="page__related">
      <h2 class="page__related-title">ì°¸ê³ </h2>
      <div class="grid__wrapper">
        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/retrospect/22.04.02.Retrospect/" rel="permalink">ë°±ì—”ë“œ ê°œë°œì ì²« ì¶œê·¼ í›„ê¸°
</a>
      
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-04-02T00:00:00+09:00">April 2, 2022</time>
      </span>
    

    

    
  </p>



    <p class="archive__item-excerpt" itemprop="description">[Retrospect] ë°±ì—”ë“œ ê°œë°œì ì²« ì¶œê·¼ í›„ê¸°
</p>
    
    
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/retrospect/22.03.31.Retrospect/" rel="permalink">â€œ2022 ì½”ë“œìŠ¤í…Œì´ì¸  3ì›” ì»¤ë®¤ë‹ˆí‹° ë°ì´â€ í›„ê¸°
</a>
      
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-03-31T00:00:00+09:00">March 31, 2022</time>
      </span>
    

    

    
  </p>



    <p class="archive__item-excerpt" itemprop="description">[Retrospect]â€2022 ì½”ë“œìŠ¤í…Œì´ì¸  3ì›” ì»¤ë®¤ë‹ˆí‹° ë°ì´â€ í›„ê¸°
</p>
    
    
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/til/22.03.15.til/" rel="permalink">ìì£¼ì“°ì´ëŠ” HTTP ë©”ì†Œë“œ &amp; HTTP ìƒíƒœ ì½”ë“œ
</a>
      
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-03-15T00:00:00+09:00">March 15, 2022</time>
      </span>
    

    

    
  </p>



    <p class="archive__item-excerpt" itemprop="description">[TIL] ìì£¼ì“°ì´ëŠ” HTTP ë©”ì†Œë“œ &amp; HTTP ìƒíƒœ ì½”ë“œ
</p>
    
    
  </article>
</div>

        
          



<div class="grid__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/til/22.03.10.til/" rel="permalink">JWT (JSON WEB TOKEN)
</a>
      
      
    </h2>
    

  <p class="page__meta">
    
      
      <span class="page__meta-date">
        <i class="far fa-calendar-alt" aria-hidden="true"></i>
        
        <time datetime="2022-03-10T00:00:00+09:00">March 10, 2022</time>
      </span>
    

    

    
  </p>



    <p class="archive__item-excerpt" itemprop="description">JWT (JSON WEB TOKEN)
</p>
    
    
  </article>
</div>

        
      </div>
    </div>
  
  
</div>
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>íŒ”ë¡œìš°:</strong></li>
    

    
      
        
          <li><a href="https://github.com/JH8459" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://instagram.com/kj.hyeon_" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-instagram" aria-hidden="true"></i> Instagram</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> í”¼ë“œ</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2022 JH ğŸ¤”. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    <script>
  'use strict';

  (function() {
    var commentContainer = document.querySelector('#utterances-comments');

    if (!commentContainer) {
      return;
    }

    var script = document.createElement('script');
    script.setAttribute('src', 'https://utteranc.es/client.js');
    script.setAttribute('repo', 'JH8459/JH8459.github.io');
    script.setAttribute('issue-term', 'pathname');
    script.setAttribute('theme', 'github-light');
    script.setAttribute('crossorigin', 'anonymous');

    commentContainer.appendChild(script);
  })();
</script>

  





  </body>
</html>
